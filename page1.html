<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Уроки французского</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
    }

    .container {
      display: flex;
      height: 100vh;
    }

    .sidebar {
      width: 30%;
      background-color: #f4f4f4;
      padding: 20px;
      box-sizing: border-box;
      overflow-y: auto;
    }

    .content {
      width: 70%;
      padding: 20px;
      box-sizing: border-box;
      overflow-y: auto;
    }

    #lesson-list li {
      margin-bottom: 10px;
      cursor: default;
      list-style: none;
      opacity: 0.5;
    }

    #lesson-list li.clickable {
      cursor: pointer;
      opacity: 1;
    }

    #lesson-list li.checked {
      
      color: green;
    }

    .exercise {
      padding: 10px 15px;
      background-color: #eee;
      border-radius: 5px;
      display: inline-block;
      margin-top: 20px;
      cursor: pointer;
      
    
    }
    .btn-new {
    padding: 10px 15px;
    margin-top: 20px;
    border: none;
    border-radius: 5px;
    text-decoration: none;
    color: white;
    background: #0B63F6;
    cursor: pointer;
    
}

    #progress {
      margin-top: 20px;
      font-weight: bold;
    }

    .checkbox {
      margin-right: 10px;
    }

    iframe, img {
      max-width: 100%;
      margin-top: 15px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h2>Выберите урок:</h2>
      <ul id="lesson-list"></ul>
      <div id="progress">Пройдено: 0%</div>
<button onclick="resetProgress()" style="margin-top: 10px;">Сбросить прогресс</button>

    </aside>

    <main class="content">
      <div id="lesson-content"></div>
    </main>
  </div>

  <script>
    const lessons = [
      {
        title: "Урок 1: Алфавит - часть 1",
        content: `
          <h2>Урок 1. Алфавит - часть 1</h2>
          <p>Буквы: Aa, Bb, Cc, Dd, Ee, Ff, Gg, Hh, Ii. </p>
          <iframe width="560" height="315" src="https://www.youtube.com/embed/rm-TwnmH3UQ?si=p2UHYil8adMoGMy8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          
          <br>
          <br>
           <button class="btn-new" onclick="window.location.href = 'page2.html';">Упражнение _ 1</button>
           <br>
          <button class="btn-new" onclick="markCompleted(0)"> Завершить урок</button>
        `
      },
      {
        title: "Урок 2: Алфавит - часть 2",
        content: `
          <h2>Урок 2. Алфавит - часть 2 </h2>
          <p>Буквы: Jj, Kk, Ll, Mm, Nn, Oo, Pp, Qq, Rr.</p>
          <video width="560" height="315" controls frameborder="0" allowfullscreen>
         <source src="https://youtu.be/rm-TwnmH3UQ?si=Q64apQDsu4PcVeQS" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <br> <br>
          <button class="btn-new" onclick="markCompleted(1)">Завершить урок</button>
        `
      },
      {
        title: "Урок 3: Алфавит - часть 3",
        content: `
          <h2>Урок 3. Алфавит - часть 3</h2>
          <p>Буквы: Ss, Tt, Uu, Vv, Ww, Xx, Yy, Zz.</p>
          <video width="560" height="315" controls frameborder="0" allowfullscreen>
         <source src="https://youtu.be/rm-TwnmH3UQ?si=Q64apQDsu4PcVeQS" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <br> <br>
          <button class="btn-new" onclick="markCompleted(2)">Завершить урок</button>
        `
      },
      {
        title: "Урок 4: Цвета",
        content: `
          <h2>Цвета на французском</h2>
          <p>Rouge (красный), Bleu (синий), Vert (зелёный)</p>
          <iframe width="560" height="315" src="https://www.youtube.com/embed/XnP2zHh2NLI" frameborder="0" allowfullscreen></iframe>
          <img src="https://via.placeholder.com/300x200?text=Couleurs" alt="Цвета">
          <div class="exercise" onclick="markCompleted(3)">Упражнение1: Завершить урок</div>
        `
      },
      {
        title: "Урок 5: Прощание",
        content: `
          <h2>Фразы для прощания</h2>
          <p>Au revoir — До свидания, À bientôt — До скорого, Salut — Пока</p>
          <iframe width="560" height="315" src="https://www.youtube.com/embed/U_Xza9XEeTU" frameborder="0" allowfullscreen></iframe>
          <img src="https://via.placeholder.com/300x200?text=Au+revoir" alt="Прощание">
          <div class="exercise" onclick="markCompleted(4)">Упражнение1: Завершить урок</div>
        `
      }
    ];

    const list = document.getElementById("lesson-list");
    const content = document.getElementById("lesson-content");
    const progressDisplay = document.getElementById("progress");

    let completed = JSON.parse(localStorage.getItem("completedLessons") || "[]");

    function renderLessons() {
      list.innerHTML = "";
      lessons.forEach((lesson, index) => {
        const li = document.createElement("li");
        li.dataset.index = index;

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.className = "checkbox";
        checkbox.disabled = true;
        checkbox.checked = completed[index] || false;

        li.appendChild(checkbox);
        li.appendChild(document.createTextNode(lesson.title));
        if (checkbox.checked) li.classList.add("checked");

        // Доступен ли урок?
        const canAccess = index === 0 || completed[index - 1];
        if (canAccess) {
          li.classList.add("clickable");
          li.addEventListener("click", () => showLesson(index));
        } else {
          li.title = "Сначала завершите предыдущий урок";
        }

        list.appendChild(li);
      });

      updateProgress();
    }

    function showLesson(index) {
      content.innerHTML = lessons[index].content;
    }

    function markCompleted(index) {
      completed[index] = true;
      localStorage.setItem("completedLessons", JSON.stringify(completed));
      renderLessons();
      updateProgress();
    }

    function updateProgress() {
      const total = lessons.length;
      const done = completed.filter(x => x).length;
      const percent = Math.round((done / total) * 100);
      progressDisplay.textContent = `Пройдено: ${percent}%`;
    }

    window.markCompleted = markCompleted;

    renderLessons();

    function resetProgress() {
  if (confirm("Вы уверены, что хотите сбросить прогресс?")) {
    completed = [];
    localStorage.removeItem("completedLessons");
    content.innerHTML = "<h1>Прогресс сброшен. Выберите урок слева.</h1>";
    renderLessons();
  }
}

  </script>
</body>
</html>
